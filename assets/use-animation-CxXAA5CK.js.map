{"version":3,"file":"use-animation-CxXAA5CK.js","sources":["../../node_modules/framer-motion/dist/es/animation/hooks/animation-controls.mjs","../../node_modules/framer-motion/dist/es/animation/hooks/use-animation.mjs"],"sourcesContent":["import { invariant } from '../../utils/errors.mjs';\nimport { setValues } from '../../render/utils/setters.mjs';\nimport { animateVisualElement } from '../interfaces/visual-element.mjs';\n\nfunction stopAnimation(visualElement) {\n    visualElement.values.forEach((value) => value.stop());\n}\n/**\n * @public\n */\nfunction animationControls() {\n    /**\n     * Track whether the host component has mounted.\n     */\n    let hasMounted = false;\n    /**\n     * A collection of linked component animation controls.\n     */\n    const subscribers = new Set();\n    const controls = {\n        subscribe(visualElement) {\n            subscribers.add(visualElement);\n            return () => void subscribers.delete(visualElement);\n        },\n        start(definition, transitionOverride) {\n            invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            const animations = [];\n            subscribers.forEach((visualElement) => {\n                animations.push(animateVisualElement(visualElement, definition, {\n                    transitionOverride,\n                }));\n            });\n            return Promise.all(animations);\n        },\n        set(definition) {\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n            return subscribers.forEach((visualElement) => {\n                setValues(visualElement, definition);\n            });\n        },\n        stop() {\n            subscribers.forEach((visualElement) => {\n                stopAnimation(visualElement);\n            });\n        },\n        mount() {\n            hasMounted = true;\n            return () => {\n                hasMounted = false;\n                controls.stop();\n            };\n        },\n    };\n    return controls;\n}\n\nexport { animationControls };\n","import { animationControls } from './animation-controls.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\n\n/**\n * Creates `AnimationControls`, which can be used to manually start, stop\n * and sequence animations on one or more components.\n *\n * The returned `AnimationControls` should be passed to the `animate` property\n * of the components you want to animate.\n *\n * These components can then be animated with the `start` method.\n *\n * ```jsx\n * import * as React from 'react'\n * import { motion, useAnimation } from 'framer-motion'\n *\n * export function MyComponent(props) {\n *    const controls = useAnimation()\n *\n *    controls.start({\n *        x: 100,\n *        transition: { duration: 0.5 },\n *    })\n *\n *    return <motion.div animate={controls} />\n * }\n * ```\n *\n * @returns Animation controller with `start` and `stop` methods\n *\n * @public\n */\nfunction useAnimationControls() {\n    const controls = useConstant(animationControls);\n    useIsomorphicLayoutEffect(controls.mount, []);\n    return controls;\n}\nconst useAnimation = useAnimationControls;\n\nexport { useAnimation, useAnimationControls };\n"],"names":["stopAnimation","visualElement","value","animationControls","subscribers","controls","definition","transitionOverride","animations","animateVisualElement","setValues","useAnimationControls","useConstant","useIsomorphicLayoutEffect","useAnimation"],"mappings":"wDAIA,SAASA,EAAcC,EAAe,CAClCA,EAAc,OAAO,QAASC,GAAUA,EAAM,MAAM,CACxD,CAIA,SAASC,GAAoB,CAQzB,MAAMC,EAAc,IAAI,IAClBC,EAAW,CACb,UAAUJ,EAAe,CACrB,OAAAG,EAAY,IAAIH,CAAa,EACtB,IAAM,KAAKG,EAAY,OAAOH,CAAa,CACrD,EACD,MAAMK,EAAYC,EAAoB,CAElC,MAAMC,EAAa,CAAE,EACrB,OAAAJ,EAAY,QAASH,GAAkB,CACnCO,EAAW,KAAKC,EAAqBR,EAAeK,EAAY,CAC5D,mBAAAC,CACpB,CAAiB,CAAC,CAClB,CAAa,EACM,QAAQ,IAAIC,CAAU,CAChC,EACD,IAAIF,EAAY,CAEZ,OAAOF,EAAY,QAASH,GAAkB,CAC1CS,EAAUT,EAAeK,CAAU,CACnD,CAAa,CACJ,EACD,MAAO,CACHF,EAAY,QAASH,GAAkB,CACnCD,EAAcC,CAAa,CAC3C,CAAa,CACJ,EACD,OAAQ,CAEJ,MAAO,IAAM,CAETI,EAAS,KAAM,CAClB,CACJ,CACJ,EACD,OAAOA,CACX,CCrBA,SAASM,GAAuB,CAC5B,MAAMN,EAAWO,EAAYT,CAAiB,EAC9C,OAAAU,EAA0BR,EAAS,MAAO,EAAE,EACrCA,CACX,CACK,MAACS,EAAeH","x_google_ignoreList":[0,1]}